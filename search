try:
  from googlesearch import search
except ImportError:
  print("No module named 'google' found")
  
import requests
from bs4 import BeautifulSoup

def ten_urls(lyrics):
  results = []

  # now searching
  for url in search(lyrics, tld="com", num=10, stop=10, pause=2):
    results.append(url)
    
  return results


def search_web(urls):
# look for "genius" in results
  for link in urls:
    if "genius" in link:
      return link
    
  return None

def create_soup(url):
  page = requests.get(url)
  return BeautifulSoup(page.content, 'html.parser')
  

def find_title(soup):
  title = soup.select('h1.header_with_cover_art-primary_info-title')[0].text.strip()
  return title


def find_artist(soup):
  artist = soup.select('a.header_with_cover_art-primary_info-primary_artist')[0].text.strip()
  return artist

def find_album(soup):
  album = soup.select('span.metadata_unit-info')[1].text.strip()
  return album

def main():
  query = input("Lyrics: ")
  soup = create_soup(search_web(ten_urls(query)))
  song_title = find_title(soup)
  song_artist = find_artist(soup)
  song_album = find_album(soup)
  print(song_title)
  print(song_artist)
  print(song_album)
  print("------Done Searching------")

if  __name__ == '__main__':
  main()